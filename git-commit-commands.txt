# Git Commands for User Management Feature

## 1. Add all changes:
git add .

## 2. Commit with detailed message:
git commit -m "feat(user): implement comprehensive user management system with admin-only access

- Add complete User CRUD operations (Create, Read, Activate/Deactivate)
- Implement admin-only authorization for all user management endpoints
- Add comprehensive validation and error handling
- Add pagination and search capabilities
- Fix JWT Bearer authentication with proper scheme configuration
- Add custom error handling for token expired and forbidden access
- Implement role case consistency (ADMIN, STAFF, TECHNICIAN, CUSTOMER)
- Replace custom authorization logic with policies
- Add proper middleware pipeline order

API Endpoints:
- GET /api/User - List all users with pagination and search
- GET /api/User/{id} - Get user by ID  
- POST /api/User - Create new user (Admin only)
- PATCH /api/User/{id}/activate - Activate user
- PATCH /api/User/{id}/deactivate - Deactivate user

Security:
- JWT Bearer authentication with custom error handling
- Policy-based authorization (AdminOnly, AuthenticatedUser)
- Role case consistency and proper validation

Breaking Changes:
- Removed PUT /api/User/{id} (update user) endpoint
- Removed DELETE /api/User/{id} (delete user) endpoint
- All User APIs now require ADMIN role only"

## 3. Push to remote repository:
git push origin main

## 4. Alternative short commit message:
git commit -m "feat(user): implement user management system with admin-only access and JWT authentication fixes"

## 5. If you want to commit in parts:

# First commit - User management core:
git add src/EVServiceCenter.Api/Controllers/UserController.cs
git add src/EVServiceCenter.Application/Interfaces/IUserService.cs
git add src/EVServiceCenter.Application/Service/UserService.cs
git add src/EVServiceCenter.Application/Models/Requests/CreateUserRequest.cs
git add src/EVServiceCenter.Application/Models/Requests/UpdateUserRequest.cs
git add src/EVServiceCenter.Application/Models/Responses/UserResponse.cs
git add src/EVServiceCenter.Application/Models/Responses/UserListResponse.cs
git commit -m "feat(user): add user management CRUD operations with admin-only access"

# Second commit - Authentication fixes:
git add src/EVServiceCenter.Api/Program.cs
git add src/EVServiceCenter.Api/Middleware/AuthenticationErrorMiddleware.cs
git add src/EVServiceCenter.Api/Extensions/MiddlewareExtensions.cs
git add src/EVServiceCenter.Application/Service/JwtService.cs
git add src/EVServiceCenter.Application/Service/AuthService.cs
git commit -m "fix(auth): implement proper JWT Bearer authentication with custom error handling"

# Third commit - Database and testing:
git add fix-role-case.sql
git add test-user-admin-only-apis.json
git add test-jwt-bearer-authentication.json
git commit -m "docs: add database fix script and comprehensive test cases"
